function MimeConfig(e){const t=MIMEPROJECTMAP[getShoptetDataLayer().projectId],n=t?MIMEVARS[t]:null;if(!n)return null;const o=e.split(".");let s=n;for(const e of o)if(s=s[e],void 0===s)return null;return s}class MimeDOM{static replaceText(e,t){const n=document.querySelector(e);n&&(n.textContent=t)}static copyElementToElement(e,t){const n=document.querySelector(e),o=document.querySelector(t);if(!n||!o)return;const s=n.cloneNode(!0);o.appendChild(s)}static moveElementToElement(e,t){const n=document.querySelector(e),o=document.querySelector(t);n&&o&&o.appendChild(n)}static createElementWithClass(e,t){const n=document.createElement(e);return n.classList.add(t),n}static runFunctionAfterElementExists(e,t,n){const o=document.querySelector(e);if(console.log("parentElement",o),!o)return;const s=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&(e.matches(t)||e.querySelector(t))&&(console.log("Element found:",e),s.disconnect())}))}))}));s.observe(o,{childList:!0,subtree:!0})}static createModal(e,t,n,o,s=!0){if(s){const e=this.createElementWithClass("div","modal-background");document.body.appendChild(e)}const c=this.createElementWithClass("div","modal"),a=this.createElementWithClass("div","modal-content"),r=this.createElementWithClass("div","modal-header"),i=this.createElementWithClass("div","modal-text"),l=this.createElementWithClass("span","modal-close");c.classList.add(t),c.id=e,r.textContent=n,i.textContent=o,l.textContent="×",l.addEventListener("click",(()=>this.removeModal(e))),a.appendChild(r),a.appendChild(i),a.appendChild(l),c.appendChild(a),document.body.appendChild(c)}static removeModal(e){const t=document.getElementById(e);t&&t.remove();const n=document.querySelector(".modal-background");n&&n.remove()}}class MimeMessage{static replaceText(e,t){const n=document.querySelector(".messages");if(!n)return;new MutationObserver((()=>{n.querySelectorAll(".msg").forEach((n=>{const o=n.querySelector("span");o&&o.textContent.includes(e)&&(t.includes("<")&&t.includes(">")?o.innerHTML=t:o.textContent=t)}))})).observe(n,{childList:!0,subtree:!0})}static create(e,t,n=null,o=null){n&&this.remove(n);const s=document.querySelector(".messages");if(!s){const e=MimeDOM.createElementWithClass("div","messages");document.body.appendChild(e)}const c=MimeDOM.createElementWithClass("div","msg");c.classList.add(`msg-${e}`),c.setAttribute("role","alert");const a=MimeDOM.createElementWithClass("div","container"),r=MimeDOM.createElementWithClass("span","notifierMessage");r.textContent=t,a.appendChild(r),c.appendChild(a),n&&(c.id=n),s.appendChild(c),o&&setTimeout((()=>{this.removeByElement(c)}),o)}static remove(e){const t=document.querySelector(".messages");if(!t)return;const n=t.querySelector(`#${e}`);n&&n.remove()}static removeByElement(e){e&&e.parentNode&&e.parentNode.removeChild(e)}static hide(e){MimeDOM.runFunctionAfterElementExists("body",".messages .msg",(()=>{const t=document.querySelectorAll(".messages .msg");t&&t.forEach((t=>{t.textContent.includes(e)&&t.remove()}))})())}}const MIMEVARS={DEV_CZ:{},DEV_SK:{},PROD_CZ:{},PROD_SK:{}},MIMEPROJECTID=getShoptetDataLayer().projectId,MIMEPROJECTMAP={111222:"DEV_CZ",222333:"DEV_SK",333444:"PROD_CZ",444555:"PROD_SK"};function isMimeProject(e){for(const[t,n]of Object.entries(MIMEPROJECTMAP))if(n===e)return parseInt(t)===MIMEPROJECTID;return!1}function getMimeProject(){return MIMEPROJECTMAP[MIMEPROJECTID]}function product(){document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelector(".add-to-cart-button");if(!e)return;const t=e.textContent.trim().replace("Přidat do košíku","Přidat do poptávky");e.textContent=t})(),(()=>{const e=document.getElementById("simple-variants-select");if(!e)return;e.style.display="none";const t=document.createElement("div");t.className="custom-variants-wrapper",Array.from(e.options).forEach(((n,o)=>{if(""===n.value)return;const s=`custom-variant-${o}`,c=document.createElement("label");c.className="custom-variant-option",c.htmlFor=s;const a=document.createElement("div");a.className="custom-variant-label";const r=document.createElement("input");r.type="radio",r.name="custom-variant",r.value=n.value,r.id=s,n.selected&&(r.checked=!0);let i=n.textContent.replace("Počet generací:","").replace(/\s*[-–—]\s*Skladem.*/i,"").replace(/\s*\(\s*[^)]*\)/g,"").trim();const l=n.getAttribute("data-customerprice")?.replace(/\B(?=(\d{3})+(?!\d))/g," ")+" Kč"||"",d=document.createElement("span");d.textContent=i;const m=document.createElement("span");m.textContent=l,r.addEventListener("change",(()=>{e.value=r.value;const t=new Event("change",{bubbles:!0});e.dispatchEvent(t)})),a.appendChild(r),a.appendChild(d),c.appendChild(a),c.appendChild(m),t.appendChild(c)})),e.parentNode.insertBefore(t,e)})(),MimeMessage.replaceText("Produkt byl přidán do nákupního košíku","Přidáno do poptávky"),(()=>{const e=document.querySelector(".navigation-buttons");e&&e.addEventListener("click",(e=>{e.preventDefault();const t=window.location.origin+"/kosik";t&&(window.location.href=t)}))})()}))}product();